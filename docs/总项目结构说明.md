# Unitreeå››è¶³æœºå™¨äººé¡¹ç›®æ¨¡å—è€¦åˆå…³ç³»åˆ†æ

## é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†åˆ†æäº†Unitreeå››è¶³æœºå™¨äººè‡ªä¸»å»ºå›¾å¯¼èˆªé¡¹ç›®ä¸­å„ä¸ªæ¨¡å—ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œä¸ºå¼€å‘è€…ç†è§£ç³»ç»Ÿæ¶æ„å’Œæ¨¡å—ä¾èµ–æä¾›å‚è€ƒã€‚

## é¡¹ç›®æ¨¡å—åˆ—è¡¨

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- `unitree_navigation` - å®Œæ•´å¯¼èˆªç³»ç»Ÿ
- `unitree_guide` - æ ¸å¿ƒæ§åˆ¶æ¡†æ¶
- `unitree_controller` - æœºå™¨äººæ§åˆ¶å™¨
- `unitree_gazebo` - ä»¿çœŸç¯å¢ƒ
- `unitree_legged_control` - è…¿éƒ¨æ§åˆ¶

### åŸºç¡€æ”¯æ’‘æ¨¡å—
- `unitree_ros_to_real` - çœŸå®æœºå™¨äººæ¥å£
- `robots` - æœºå™¨äººæè¿°æ–‡ä»¶
- `livox_laser_simulation` - æ¿€å…‰é›·è¾¾ä»¿çœŸ

## æ¨¡å—åˆ†å±‚æ¶æ„

### ç¬¬0å±‚ - æ¶ˆæ¯åŸºç¡€å±‚

#### `unitree_legged_msgs`
- **ä½ç½®**: `unitree_ros_to_real/unitree_legged_msgs/`
- **åŠŸèƒ½**: å®šä¹‰æœºå™¨äººé€šä¿¡æ¶ˆæ¯ç±»å‹
- **ä¾èµ–**: 
  - `std_msgs`
  - `geometry_msgs` 
  - `sensor_msgs`
- **æ¶ˆæ¯ç±»å‹**:
  - `MotorCmd.msg` / `MotorState.msg` - ç”µæœºæ§åˆ¶ä¸çŠ¶æ€
  - `LowCmd.msg` / `LowState.msg` - åº•å±‚æ§åˆ¶å‘½ä»¤ä¸çŠ¶æ€
  - `HighCmd.msg` / `HighState.msg` - é«˜å±‚æ§åˆ¶å‘½ä»¤ä¸çŠ¶æ€
  - `IMU.msg` - æƒ¯æ€§æµ‹é‡å•å…ƒæ•°æ®
  - `BmsCmd.msg` / `BmsState.msg` - ç”µæ± ç®¡ç†ç³»ç»Ÿ

**é‡è¦æ€§**: ğŸ”´ **æ ¸å¿ƒåŸºç¡€** - å‡ ä¹æ‰€æœ‰å…¶ä»–æ¨¡å—éƒ½ä¾èµ–æ­¤åŒ…

### ç¬¬1å±‚ - ç¡¬ä»¶æŠ½è±¡å±‚

#### `unitree_actuator_sdk`
- **ä½ç½®**: `unitree_guide/unitree_actuator_sdk/`
- **åŠŸèƒ½**: ç”µæœºæ§åˆ¶SDK
- **ä¾èµ–**: 
  - `roscpp`
  - Unitreeç”µæœºSDKåº“
- **è€¦åˆåº¦**: ğŸŸ¢ **ä½è€¦åˆ** - ç›¸å¯¹ç‹¬ç«‹çš„ç¡¬ä»¶æ¥å£

#### `go2_description`
- **ä½ç½®**: `robots/go2_description/`
- **åŠŸèƒ½**: Go2æœºå™¨äººURDFæè¿°
- **ä¾èµ–**: 
  - `catkin`
  - `roslaunch`
- **è€¦åˆåº¦**: ğŸŸ¢ **ä½è€¦åˆ** - ä»…æä¾›æœºå™¨äººæ¨¡å‹æè¿°

### ç¬¬2å±‚ - åº•å±‚æ§åˆ¶å±‚

#### `unitree_legged_control`
- **åŠŸèƒ½**: æœºå™¨äººå…³èŠ‚çº§æ§åˆ¶
- **ä¾èµ–**:
  - ğŸ”´ `unitree_legged_msgs`
  - `controller_interface`
  - `hardware_interface`
  - `pluginlib`
- **è€¦åˆåº¦**: ğŸŸ¡ **ä¸­ç­‰è€¦åˆ** - ä¾èµ–æ ¸å¿ƒæ¶ˆæ¯åŒ…

#### `unitree_legged_real`
- **ä½ç½®**: `unitree_ros_to_real/unitree_legged_real/`
- **åŠŸèƒ½**: çœŸå®æœºå™¨äººç¡¬ä»¶æ¥å£
- **ä¾èµ–**:
  - ğŸ”´ `unitree_legged_msgs`
  - `geometry_msgs`
  - Unitreeè…¿éƒ¨SDK
- **è€¦åˆåº¦**: ğŸŸ¡ **ä¸­ç­‰è€¦åˆ** - è¿æ¥ROSä¸çœŸå®ç¡¬ä»¶

### ç¬¬3å±‚ - ä¸­å±‚æ§åˆ¶å±‚

#### `unitree_controller`
- **åŠŸèƒ½**: æœºå™¨äººæ•´ä½“è¿åŠ¨æ§åˆ¶
- **ä¾èµ–**:
  - ğŸ”´ `unitree_legged_msgs`
  - `gazebo_ros`
  - `controller_manager`
  - `joint_state_controller`
- **è€¦åˆåº¦**: ğŸ”´ **é«˜è€¦åˆ** - æ ¸å¿ƒæ§åˆ¶ç»„ä»¶

#### `unitree_gazebo`
- **åŠŸèƒ½**: Gazeboä»¿çœŸç¯å¢ƒå’Œæ’ä»¶
- **ä¾èµ–**:
  - ğŸ”´ `unitree_legged_msgs`
  - `gazebo_ros`
  - `controller_manager`
- **æ’ä»¶**:
  - `unitreeFootContactPlugin` - è¶³ç«¯æ¥è§¦æ£€æµ‹
  - `unitreeDrawForcePlugin` - åŠ›å¯è§†åŒ–
- **è€¦åˆåº¦**: ğŸ”´ **é«˜è€¦åˆ** - ä¸æ§åˆ¶å™¨ç´§å¯†é›†æˆ

### ç¬¬4å±‚ - ç‹¬ç«‹åŠŸèƒ½å±‚

#### `livox_laser_simulation`
- **åŠŸèƒ½**: Livoxæ¿€å…‰é›·è¾¾ä»¿çœŸæ’ä»¶
- **ä¾èµ–**:
  - `tf`
  - `gazebo`
- **è€¦åˆåº¦**: ğŸŸ¢ **ä½è€¦åˆ** - ç›¸å¯¹ç‹¬ç«‹çš„ä¼ æ„Ÿå™¨ä»¿çœŸ

### ç¬¬5å±‚ - å¯¼èˆªè§„åˆ’å±‚

#### `unitree_move_base`
- **ä½ç½®**: `unitree_guide/unitree_move_base/`
- **åŠŸèƒ½**: ç§»åŠ¨åŸºåº§å’Œè·¯å¾„è§„åˆ’
- **ä¾èµ–**:
  - `move_base_msgs`
  - `geometry_msgs`
  - `visualization_msgs`
- **é…ç½®æ–‡ä»¶**:
  - `costmap_common_params.yaml`
  - `global_costmap_params.yaml`
  - `local_costmap_params.yaml`
  - `base_local_planner_params.yaml`
- **è€¦åˆåº¦**: ğŸŸ¡ **ä¸­ç­‰è€¦åˆ** - æ ‡å‡†ROSå¯¼èˆªæ ˆ

#### `unitree_guide`
- **ä½ç½®**: `unitree_guide/unitree_guide/`
- **åŠŸèƒ½**: æ ¸å¿ƒæ§åˆ¶æ¡†æ¶å’ŒçŠ¶æ€æœº
- **ä¾èµ–**:
  - Unitreeè…¿éƒ¨SDK
  - æ§åˆ¶ç»„ä»¶åº“
- **æ¶æ„**: FSM (æœ‰é™çŠ¶æ€æœº) æ§åˆ¶æ¡†æ¶
- **è€¦åˆåº¦**: ğŸ”´ **é«˜è€¦åˆ** - æ ¸å¿ƒå†³ç­–ç³»ç»Ÿ

### ç¬¬6å±‚ - åº”ç”¨é›†æˆå±‚

#### `unitree_navigation`
- **åŠŸèƒ½**: å®Œæ•´çš„å¯¼èˆªç³»ç»Ÿé›†æˆ
- **ä¾èµ–**:
  - ğŸ”´ `unitree_legged_msgs`
  - `move_base_msgs`
  - `actionlib`
  - `pcl_ros`
  - `tf2_ros`
  - FAST-LIO (å¤–éƒ¨ä¾èµ–)
- **ä¸»è¦åŠŸèƒ½**:
  - é¥æ§å»ºå›¾æ¨¡å¼
  - è‡ªä¸»å¯¼èˆªæ¨¡å¼
  - è·¯å¾„è®°å½•ä¸å›æ”¾
  - åœ°å›¾è‡ªåŠ¨æ£€æµ‹
- **è€¦åˆåº¦**: ğŸ”´ **æœ€é«˜è€¦åˆ** - é›†æˆæ‰€æœ‰åº•å±‚æ¨¡å—

## è€¦åˆå…³ç³»å›¾

```mermaid
graph TD
    A[unitree_legged_msgs<br/>æ¶ˆæ¯åŸºç¡€] --> B[unitree_legged_control<br/>è…¿éƒ¨æ§åˆ¶]
    A --> C[unitree_legged_real<br/>çœŸå®æœºå™¨äººæ¥å£]
    A --> D[unitree_controller<br/>æœºå™¨äººæ§åˆ¶å™¨]
    A --> E[unitree_gazebo<br/>ä»¿çœŸç¯å¢ƒ]
    A --> F[unitree_navigation<br/>å¯¼èˆªç³»ç»Ÿ]
    
    G[go2_description<br/>æœºå™¨äººæè¿°] --> D
    G --> E
    
    H[unitree_actuator_sdk<br/>ç”µæœºSDK] --> B
    
    B --> D
    C --> D
    D --> I[unitree_move_base<br/>ç§»åŠ¨åŸºåº§]
    E --> I
    
    J[livox_laser_simulation<br/>æ¿€å…‰é›·è¾¾ä»¿çœŸ] --> F
    I --> F
    K[unitree_guide<br/>æ§åˆ¶æ¡†æ¶] --> F
    
    D --> F
    E --> F
```

## Launchæ–‡ä»¶äº¤å‰å¼•ç”¨å…³ç³»

### ä»¿çœŸå¯åŠ¨é“¾
```
gazebo_move_base.launch
    â†“ includes
empty_world.launch (gazebo)
    â†“ includes  
set_ctrl.launch (unitree_controller)
```

### å¯¼èˆªå¯åŠ¨é“¾
```
unitree_navigation.launch
    â†“ includes
move_base.launch (unitree_move_base)
    â†“ loads configs
costmap_params.yaml + planner_params.yaml
```

## ä¾èµ–å¼ºåº¦åˆ†æ

### ğŸ”´ å¼ºä¾èµ– (Strong Coupling)
- **`unitree_legged_msgs`** â† å‡ ä¹æ‰€æœ‰æ¨¡å—
- **`unitree_controller`** â†” **`unitree_gazebo`** (åŒå‘ä¾èµ–)
- **`unitree_navigation`** â† æ‰€æœ‰åº•å±‚æ¨¡å—

### ğŸŸ¡ ä¸­ç­‰ä¾èµ– (Medium Coupling)  
- **`unitree_legged_control`** â† **`unitree_legged_msgs`**
- **`unitree_move_base`** â† ROSå¯¼èˆªæ ˆ
- **`unitree_guide`** â† Unitree SDK

### ğŸŸ¢ å¼±ä¾èµ– (Loose Coupling)
- **`livox_laser_simulation`** â† ä»…tfä¾èµ–
- **`go2_description`** â† ä»…catkinä¾èµ–
- **`unitree_actuator_sdk`** â† ä»…ROSåŸºç¡€ä¾èµ–

## æ¨¡å—éƒ¨ç½²å»ºè®®

### æœ€å°ä»¿çœŸç¯å¢ƒ
```bash
# å¿…éœ€æ¨¡å—
unitree_legged_msgs/
unitree_controller/
unitree_gazebo/
robots/go2_description/
```

### å®Œæ•´å¯¼èˆªç³»ç»Ÿ
```bash
# éœ€è¦æ‰€æœ‰æ¨¡å—
unitree_legged_msgs/
unitree_controller/
unitree_gazebo/
unitree_navigation/
unitree_guide/
robots/go2_description/
livox_laser_simulation/
```

### çœŸå®æœºå™¨äººéƒ¨ç½²
```bash
# æ ¸å¿ƒæ¨¡å—
unitree_legged_msgs/
unitree_ros_to_real/
unitree_controller/
unitree_navigation/
unitree_guide/
```

## å¼€å‘æ³¨æ„äº‹é¡¹

### ä¿®æ”¹å½±å“èŒƒå›´

1. **ä¿®æ”¹ `unitree_legged_msgs`**
   - ğŸš¨ **é«˜é£é™©** - å½±å“æ‰€æœ‰ä¾èµ–æ¨¡å—
   - éœ€è¦é‡æ–°ç¼–è¯‘æ•´ä¸ªé¡¹ç›®

2. **ä¿®æ”¹ `unitree_controller`**
   - ğŸŸ¡ **ä¸­ç­‰é£é™©** - å½±å“ä»¿çœŸå’Œå¯¼èˆªåŠŸèƒ½
   - éœ€è¦æµ‹è¯•ä»¿çœŸç¯å¢ƒ

3. **ä¿®æ”¹ `unitree_navigation`**
   - ğŸŸ¢ **ä½é£é™©** - ä»…å½±å“å¯¼èˆªåŠŸèƒ½
   - ç›¸å¯¹å®‰å…¨çš„ä¿®æ”¹ç‚¹

### æ¨¡å—æ›¿æ¢å¯èƒ½æ€§

- âœ… **å¯æ›¿æ¢**: `livox_laser_simulation`, `go2_description`
- âš ï¸ **éƒ¨åˆ†å¯æ›¿æ¢**: `unitree_move_base`, `unitree_gazebo`  
- âŒ **ä¸å¯æ›¿æ¢**: `unitree_legged_msgs`, `unitree_controller`

## æ€»ç»“

è¯¥é¡¹ç›®é‡‡ç”¨äº†**é«˜åº¦é›†æˆçš„ç´§è€¦åˆæ¶æ„**ï¼Œå„æ¨¡å—ä¹‹é—´å­˜åœ¨æ˜¾è‘—çš„ä¾èµ–å…³ç³»ã€‚æ ¸å¿ƒç‰¹ç‚¹ï¼š

1. **`unitree_legged_msgs`** æ˜¯æ•´ä¸ªç³»ç»Ÿçš„é€šä¿¡åŸºç¡€
2. **æ§åˆ¶å±‚ä¸ä»¿çœŸå±‚ç´§å¯†é›†æˆ**ï¼Œä¾¿äºå¼€å‘æµ‹è¯•
3. **å¯¼èˆªå±‚é›†æˆåº¦é«˜**ï¼Œæä¾›å®Œæ•´è§£å†³æ–¹æ¡ˆ
4. **æ¨¡å—åŒ–ç¨‹åº¦é€‚ä¸­**ï¼Œä¾¿äºåŠŸèƒ½æ‰©å±•ä½†å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦

è¿™ç§æ¶æ„è®¾è®¡é€‚åˆäºä¸“é—¨çš„Unitreeæœºå™¨äººåº”ç”¨å¼€å‘ï¼Œä½†åœ¨è·¨å¹³å°ç§»æ¤æ—¶éœ€è¦è€ƒè™‘ä¾èµ–å…³ç³»çš„å¤„ç†ã€‚